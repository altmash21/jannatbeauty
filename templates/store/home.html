{% extends "base.html" %}
{% load static %}
{% block title %}Jannat Beauty{% endblock %}
{% block extra_css %}
<style>
  @media (max-width: 768px) {
    .hero-section {
      max-height: 70vh !important;
      height: 70vh !important;
      overflow: hidden;
    }
    .video-content .video-bg {
      height: 220px !important;
      min-height: 220px !important;
      max-height: 300px !important;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .video-content .video-image {
      height: 100% !important;
      object-fit: cover !important;
    }
  }
</style>
{% endblock %}
{% block content %}
  <section id="hero" class="hero-section position-relative overflow-hidden">
    <!-- Video Background -->
    <video class="hero-video position-absolute top-0 start-0 w-100 h-100 object-fit-cover" autoplay muted loop>
      <source src="{% static 'videos/background3.mp4' %}" type="video/mp4">
      <source src="{% static 'videos/hero-video.webm' %}" type="video/webm">
      <!-- Fallback for browsers that don't support video -->
      Your browser does not support the video tag.
    </video>

    <!-- Overlay -->
    <div class="hero-overlay position-absolute top-0 start-0 w-100 h-100 bg-dark opacity-50"></div>

    <!-- Content -->
    <div class="hero-content position-relative d-flex align-items-center justify-content-center text-center text-white">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-lg-8">
            <h1 class="hero-heading display-1 fw-bold mb-4" data-aos="fade-up">
              Jannat — Authentic Islamic Goods
            </h1>
            <p class="hero-subtext fs-4 mb-4" data-aos="fade-up" data-aos-delay="300">
              Beautiful Qur'ans, prayer essentials, modest fashion and meaningful gifts — carefully curated for your family.
            </p>
            <a href="{% url 'store:product_list' %}" class="btn btn-light btn-lg px-5rem py-3rem text-uppercase" data-aos="fade-up" data-aos-delay="600" style="background-color: #06402B; border-color: #06402B; color: white;">
              Explore Collections
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="features py-5">
    <div class="container">
      <div class="row">
        <div class="col-md-3 text-center" data-aos="fade-in" data-aos-delay="0">
          <div class="py-5">
            <svg width="38" height="38" viewBox="0 0 24 24">
              <use xlink:href="#shopping-bag"></use>
            </svg>
            <h4 class="element-title text-capitalize my-3">Authentic Islamic Products</h4>
            <p>Handpicked Qur'ans, prayer mats, modest apparel, and tasbihs from trusted sellers.</p>
          </div>
        </div>
        <div class="col-md-3 text-center" data-aos="fade-in" data-aos-delay="300">
          <div class="py-5">
            <svg width="38" height="38" viewBox="0 0 24 24">
              <use xlink:href="#calendar"></use>
            </svg>
            <h4 class="element-title text-capitalize my-3">Fast Local Delivery</h4>
            <p>Next-day delivery in major cities and real-time tracking for every order.</p>
          </div>
        </div>
        <div class="col-md-3 text-center" data-aos="fade-in" data-aos-delay="600">
          <div class="py-5">
            <svg width="38" height="38" viewBox="0 0 24 24">
              <use xlink:href="#gift"></use>
            </svg>
            <h4 class="element-title text-capitalize my-3">Secure Payments</h4>
            <p>Encrypted checkout and multiple trusted payment methods for safe shopping.</p>
          </div>
        </div>
        <div class="col-md-3 text-center" data-aos="fade-in" data-aos-delay="900">
          <div class="py-5">
            <svg width="38" height="38" viewBox="0 0 24 24">
              <use xlink:href="#arrow-cycle"></use>
            </svg>
            <h4 class="element-title text-capitalize my-3">Easy Returns & Support</h4>
            <p>14-day returns and 24/7 support to help with orders, sizing, and product questions.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="categories overflow-hidden">
    <div class="container">
      <div class="open-up" data-aos="zoom-out">
        <div class="row">
          <div class="col-md-4">
            <div class="cat-item image-zoom-effect">
              <div class="image-holder">
                <a href="index.html">
                  <!-- Ensure all videos in category are square and looped -->
                  <video class="w-100" autoplay muted loop playsinline style="aspect-ratio: 1 / 1; object-fit: cover;">
                    <source src="{% static 'videos/quran-loop.mp4' %}" type="video/mp4">
                  </video>
                </a>
              </div>
              <div class="category-content">
                <div class="product-button">
                  <a href="{% url 'store:product_list' %}" class="btn btn-common text-uppercase">Quran</a>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="cat-item image-zoom-effect">
              <div class="image-holder">
                <a href="index.html">
                  <!-- Ensure all videos in category are square and looped -->
                  <video class="w-100" autoplay muted loop playsinline style="aspect-ratio: 1 / 1; object-fit: cover;">
                    <source src="{% static 'videos/quranbg.mp4'%}" type="video/mp4">
                  </video>
                </a>
              </div>
              <div class="category-content">
                <div class="product-button">
                  <a href="{% url 'store:product_list' %}" class="btn btn-common text-uppercase">For kids</a>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="cat-item image-zoom-effect">
              <div class="image-holder">
                <a href="index.html">
                  <!-- Ensure all videos in category are square and looped -->
                  <video class="w-100" autoplay muted loop playsinline style="aspect-ratio: 1 / 1; object-fit: cover;">
                    <source src="{% static 'videos/gifts-loop.mp4'%}" type="video/mp4">
                  </video>
                </a>
              </div>
              <div class="category-content">
                <div class="product-button">
                  <a href="{% url 'store:product_list' %}" class="btn btn-common text-uppercase">Shop accessories</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="new-arrival" class="new-arrival product-carousel py-5 position-relative overflow-hidden">
    <div class="container">
      <div class="d-flex flex-wrap justify-content-between align-items-center mt-5 mb-3">
        <h5 class="text-uppercase">Our New Arrivals</h5>
        <a href="{% url 'store:product_list' %}" class="btn-link">View All Products</a>
      </div>
      <div class="swiper product-swiper open-up" data-aos="zoom-out">
        <div class="swiper-wrapper d-flex">
          {% for product in latest_products %}
          <div class="swiper-slide">
            <div class="product-item image-zoom-effect link-effect">
              <div class="image-holder position-relative">
                <a href="{{ product.get_absolute_url }}">
                  {% if product.image %}
                    <img src="{{ product.image.url }}" alt="{{ product.name }}" class="product-image img-fluid">
                  {% else %}
                    <img src="{% static 'images/product-placeholder.jpg' %}" alt="{{ product.name }}" class="product-image img-fluid">
                  {% endif %}
                </a>
                <a href="{{ product.get_absolute_url }}" class="btn-icon btn-wishlist">
                  <svg width="24" height="24" viewBox="0 0 24 24">
                    <use xlink:href="#heart"></use>
                  </svg>
                </a>
                <div class="product-content">
                  <h6 class="element-title text-uppercase mt-3" >
                    <a href="{{ product.get_absolute_url }}">{{ product.name }}</a>
                  </h6>
                  <div class="d-flex align-items-center mb-2">
                    {% if product.compare_price %}
                      <span class="me-2 text-muted text-decoration-line-through">${{ product.compare_price }}</span>
                    {% endif %}
                    <span class="fw-bold text-success">${{ product.price }}</span>
                  </div>
                  <div class="d-flex gap-2">
                    <form method="post" action="{% url 'cart:cart_add' product.id %}" class="flex-fill">
                      {% csrf_token %}
                      <input type="hidden" name="quantity" value="1">
                      <button type="submit" class="btn btn-primary w-100">Add to Cart</button>
                    </form>
                    <form method="post" action="{% url 'cart:cart_add' product.id %}" class="flex-fill">
                      {% csrf_token %}
                      <input type="hidden" name="quantity" value="1">
                      <input type="hidden" name="buy_now" value="1">
                      <button type="submit" class="btn btn-success w-100">Buy Now</button>
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>
          {% empty %}
          <div class="swiper-slide">
            <div class="p-4 text-center">No new arrivals at the moment. Check back soon.</div>
          </div>
          {% endfor %}
        </div>
        <div class="swiper-pagination"></div>
      </div>
      <div class="icon-arrow icon-arrow-left"><svg width="50" height="50" viewBox="0 0 24 24">
          <use xlink:href="#arrow-left"></use>
        </svg></div>
      <div class="icon-arrow icon-arrow-right"><svg width="50" height="50" viewBox="0 0 24 24">
          <use xlink:href="#arrow-right"></use>
        </svg></div>
    </div>
  </section>

  <section class="collection bg-light position-relative py-5">
    <div class="container">
      <div class="row">
        <div class="title-xlarge text-uppercase txt-fx domino">Collection</div>
        <div class="collection-item d-flex flex-wrap my-5">
          <div class="col-md-6 column-container">
            <div class="image-holder">
              <img src="{% static 'images/quran.webp' %}" alt="Quran" class="product-image img-fluid rounded shadow w-100 h-100" style="object-fit: cover;">
            </div>
          </div>
          <div class="col-md-6 column-container bg-white">
            <div class="collection-content p-5 m-0 m-md-5">
              <h3 class="element-title text-uppercase">Islamic Essentials for Every Home</h3>
              <p>Discover our handpicked range: Qur'an (Arabic, Hindi, English), Tasbi, Topi, Janamaz, Digital Tasbi, Dua Stickers, Dua Frames, and Dua Books. Perfect for daily worship, gifting, and bringing barakah to your home. Shop authentic Islamic products trusted by families across India.</p>
              <a href="{% url 'store:product_list' %}" class="btn btn-dark text-uppercase mt-3">Shop All Products</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="best-sellers" class="best-sellers product-carousel py-5 position-relative overflow-hidden">
    <div class="container">
      <div class="d-flex flex-wrap justify-content-between align-items-center mt-5 mb-3">
        <h5 class="text-uppercase">Best Selling Items</h5>
        <a href="{% url 'store:product_list' %}" class="btn-link">View All Products</a>
      </div>
      <div class="swiper product-swiper open-up" data-aos="zoom-out">
        <div class="swiper-wrapper d-flex">
          {% for product in latest_products %}
          <div class="swiper-slide">
            <div class="product-item image-zoom-effect link-effect">
              <div class="image-holder position-relative">
                <a href="{{ product.get_absolute_url }}">
                  {% if product.image %}
                    <img src="{{ product.image.url }}" alt="{{ product.name }}" class="product-image img-fluid">
                  {% else %}
                    <img src="{% static 'images/product-placeholder.jpg' %}" alt="{{ product.name }}" class="product-image img-fluid">
                  {% endif %}
                </a>
                <a href="{{ product.get_absolute_url }}" class="btn-icon btn-wishlist">
                  <svg width="24" height="24" viewBox="0 0 24 24">
                    <use xlink:href="#heart"></use>
                  </svg>
                </a>
                <div class="product-content">
                  <h6 class="element-title text-uppercase mt-3">
                    <a href="{{ product.get_absolute_url }}">{{ product.name }}</a>
                  </h6>
                  <div class="d-flex align-items-center mb-2">
                    {% if product.compare_price %}
                      <span class="me-2 text-muted text-decoration-line-through">₹{{ product.compare_price }}</span>
                    {% endif %}
                    <span class="fw-bold text-success">₹{{ product.price }}</span>
                  </div>
                  <div class="d-flex gap-2">
                    <form method="post" action="{% url 'cart:cart_add' product.id %}" class="flex-fill">
                      {% csrf_token %}
                      <input type="hidden" name="quantity" value="1">
                      <button type="submit" class="btn btn-primary w-100">Add to Cart</button>
                    </form>
                    <form method="post" action="{% url 'cart:cart_add' product.id %}" class="flex-fill">
                      {% csrf_token %}
                      <input type="hidden" name="quantity" value="1">
                      <input type="hidden" name="buy_now" value="1">
                      <button type="submit" class="btn btn-success w-100">Buy Now</button>
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>
          {% empty %}
          <div class="swiper-slide">
            <div class="p-4 text-center">No best sellers at the moment. Check back soon.</div>
          </div>
          {% endfor %}
        </div>
        <div class="swiper-pagination"></div>
      </div>
      <div class="icon-arrow icon-arrow-left"><svg width="50" height="50" viewBox="0 0 24 24">
          <use xlink:href="#arrow-left"></use>
        </svg></div>
      <div class="icon-arrow icon-arrow-right"><svg width="50" height="50" viewBox="0 0 24 24">
          <use xlink:href="#arrow-right"></use>
        </svg></div>
    </div>
  </section>

  <section class="video py-5 overflow-hidden">
    <div class="container-fluid">
      <div class="row">
        <div class="video-content open-up" data-aos="zoom-out">
          <div class="video-bg">
            <img src="{% static 'images/bannerfinal.webp' %}" alt="Islamic Gathering" class="video-image img-fluid rounded shadow">
          </div>
          <div class="video-player">
            {% comment %} <a class="youtube" href="https://www.youtube.com/embed/pjtsGzQjFM4">
              <svg width="24" height="24" viewBox="0 0 24 24">
                <use xlink:href="#play"></use>
              </svg>
              <img src="{% static 'images/text-pattern.png' %}" alt="Islamic Pattern" class="text-rotate">
            </a> {% endcomment %}
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="testimonials py-5 bg-light">
    <div class="section-header text-center mt-5">
      <h3 class="section-title">WE LOVE GOOD COMPLIMENT</h3>
    </div>
    <div class="swiper testimonial-swiper overflow-hidden my-5">
      <div class="swiper-wrapper d-flex">
        <div class="swiper-slide">
          <div class="testimonial-item text-center">
            <blockquote>
              <p>“More than expected crazy soft, flexible and best fitted white simple denim shirt.”</p>
              <div class="review-title text-uppercase">casual way</div>
            </blockquote>
          </div>
        </div>
        <div class="swiper-slide">
          <div class="testimonial-item text-center">
            <blockquote>
              <p>“Best fitted white denim shirt more than expected crazy soft, flexible</p>
              <div class="review-title text-uppercase">uptop</div>
            </blockquote>
          </div>
        </div>
        <div class="swiper-slide">
          <div class="testimonial-item text-center">
            <blockquote>
              <p>“Best fitted white denim shirt more white denim than expected flexible crazy soft.”</p>
              <div class="review-title text-uppercase">Denim craze</div>
            </blockquote>
          </div>
        </div>
        <div class="swiper-slide">
          <div class="testimonial-item text-center">
            <blockquote>
              <p>“Best fitted white denim shirt more than expected crazy soft, flexible</p>
              <div class="review-title text-uppercase">uptop</div>
            </blockquote>
          </div>
        </div>
      </div>
    </div>
    <div class="testimonial-swiper-pagination d-flex justify-content-center mb-5"></div>
  </section>

  <section id="related-products" class="related-products product-carousel py-5 position-relative overflow-hidden">
    <div class="container">
      <div class="d-flex flex-wrap justify-content-between align-items-center mt-5 mb-3">
        <h5 class="text-uppercase">You May Also Like</h5>
        <a href="{% url 'store:product_list' %}" class="btn-link">View All Products</a>
      </div>
      <div class="swiper product-swiper open-up" data-aos="zoom-out">
        <div class="swiper-wrapper d-flex">
          {% for product in latest_products %}
          <div class="swiper-slide">
            <div class="product-item image-zoom-effect link-effect">
              <div class="image-holder position-relative">
                <a href="{{ product.get_absolute_url }}">
                  {% if product.image %}
                    <img src="{{ product.image.url }}" alt="{{ product.name }}" class="product-image img-fluid">
                  {% else %}
                    <img src="{% static 'images/product-placeholder.jpg' %}" alt="{{ product.name }}" class="product-image img-fluid">
                  {% endif %}
                </a>
                <a href="{{ product.get_absolute_url }}" class="btn-icon btn-wishlist">
                  <svg width="24" height="24" viewBox="0 0 24 24">
                    <use xlink:href="#heart"></use>
                  </svg>
                </a>
                <div class="product-content">
                  <h6 class="element-title text-uppercase mt-3">
                    <a href="{{ product.get_absolute_url }}">{{ product.name }}</a>
                  </h6>
                  <div class="d-flex align-items-center mb-2">
                    {% if product.compare_price %}
                      <span class="me-2 text-muted text-decoration-line-through">₹{{ product.compare_price }}</span>
                    {% endif %}
                    <span class="fw-bold text-success">₹{{ product.price }}</span>
                  </div>
                  <div class="d-flex gap-2">
                    <form method="post" action="{% url 'cart:cart_add' product.id %}" class="flex-fill">
                      {% csrf_token %}
                      <input type="hidden" name="quantity" value="1">
                      <button type="submit" class="btn btn-primary w-100">Add to Cart</button>
                    </form>
                    <form method="post" action="{% url 'cart:cart_add' product.id %}" class="flex-fill">
                      {% csrf_token %}
                      <input type="hidden" name="quantity" value="1">
                      <input type="hidden" name="buy_now" value="1">
                      <button type="submit" class="btn btn-success w-100">Buy Now</button>
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>
          {% empty %}
          <div class="swiper-slide">
            <div class="p-4 text-center">No recommendations at the moment. Check back soon.</div>
          </div>
          {% endfor %}
        </div>
        <div class="swiper-pagination"></div>
      </div>
      <div class="icon-arrow icon-arrow-left"><svg width="50" height="50" viewBox="0 0 24 24">
          <use xlink:href="#arrow-left"></use>
        </svg></div>
      <div class="icon-arrow icon-arrow-right"><svg width="50" height="50" viewBox="0 0 24 24">
          <use xlink:href="#arrow-right"></use>
        </svg></div>
    </div>
  </section>

  <section class="blog py-5">
    <div class="container">
      <div class="d-flex flex-wrap justify-content-between align-items-center mt-5 mb-3">
        <h4 class="text-uppercase">Read Blog Posts</h4>
        <a href="{% url 'blog:blog_list' %}" class="btn-link">View All</a>
      </div>
      <div class="row">
        {% for post in blog_posts %}
        <div class="col-md-4 mb-4">
          <article class="post-item">
            <div class="post-image">
              {% if post.image %}
                <a href="{{ post.get_absolute_url }}">
                  <img src="{{ post.image.url }}" alt="{{ post.title }}" class="post-grid-image img-fluid">
                </a>
              {% else %}
                <a href="{{ post.get_absolute_url }}">
                  <img src="{% static 'images/post-image1.jpg' %}" alt="image" class="post-grid-image img-fluid">
                </a>
              {% endif %}
            </div>
            <div class="post-content d-flex flex-wrap gap-2 my-3">
              <div class="post-meta text-uppercase fs-6 text-secondary">
                <span class="post-category">{{ post.category }} /</span>
                <span class="meta-day"> {{ post.created_at|date:"M d, Y" }}</span>
              </div>
              <h5 class="post-title text-uppercase">
                <a href="{{ post.get_absolute_url }}">{{ post.title }}</a>
              </h5>
              <p>{{ post.excerpt|truncatewords:20 }}</p>
            </div>
          </article>
        </div>
        {% empty %}
        <div class="col-12">
          <div class="alert alert-info text-center">
            No blog posts available at the moment. Check back soon!
          </div>
        </div>
        {% endfor %}
      </div>
    </div>
  </section>

  {% comment %} <section class="logo-bar py-5 my-5">
    <div class="container">
      <div class="row">
        <div class="logo-content d-flex flex-wrap justify-content-between">
          <img src="images/logo1.png" alt="logo" class="logo-image img-fluid">
          <img src="images/logo2.png" alt="logo" class="logo-image img-fluid">
          <img src="images/logo3.png" alt="logo" class="logo-image img-fluid">
          <img src="images/logo4.png" alt="logo" class="logo-image img-fluid">
          <img src="images/logo5.png" alt="logo" class="logo-image img-fluid">
        </div>
      </div>
    </div>
  </section> {% endcomment %}

  <section class="newsletter bg-light" style="background: url({% static 'images/banner2.webp' %}) no-repeat center center; background-size: cover;">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-md-8 py-5 my-5">
          <div class="subscribe-header text-center pb-3">
            <h3 class="section-title text-uppercase">Sign Up for our newsletter</h3>
          </div>
          <form id="form" class="d-flex flex-wrap gap-2">
            <input type="text" name="email" placeholder="Your Email Addresss" class="form-control form-control-lg">
            <button class="btn btn-dark btn-lg text-uppercase w-100">Sign Up</button>
          </form>
        </div>
      </div>
    </div>
  </section>

  <script src="{% static 'js/buy_now.js' %}"></script>
{% endblock %}