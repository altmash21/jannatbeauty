{% extends 'base.html' %}

{% block title %}Your Products{% endblock %}

{% block content %}
<div class="container">
    <h3 style="margin-bottom:0.75rem;">Your Products</h3>
    <div class="grid" style="grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:0.9rem;">
        {% for product in products %}
        <div class="product-card">
            {% if product.image_url %}
                <img src="{{ product.image_url }}" alt="{{ product.name }}" style="width:100%; height:140px; object-fit:cover; border-radius:6px; margin-bottom:0.6rem;">
            {% endif %}
            <div style="padding:0.4rem; display:flex; flex-direction:column; gap:0.4rem;">
                <div style="font-weight:700; color:#0f172a;">{{ product.name }}</div>
                <div style="color:#6b7280; font-size:0.9rem;">{{ product.description|truncatewords:12 }}</div>
                <div style="margin-top:auto; display:flex; gap:0.4rem;">
                    <a href="{% url 'store:edit_product' product.id %}" class="btn">Edit</a>
                    <a href="{% url 'store:delete_product' product.id %}" class="btn btn-danger">Delete</a>
                </div>
            </div>
        </div>
        {% empty %}
        <div style="grid-column:1/-1; text-align:center; padding:2rem;">No products found.</div>
        {% endfor %}
    </div>
</div>
{% endblock %}
